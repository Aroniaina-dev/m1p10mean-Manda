"use strict";(self.webpackChunkm1p10mean_Manda_Finaritra=self.webpackChunkm1p10mean_Manda_Finaritra||[]).push([[996],{80996:(k,u,s)=>{s.r(u),s.d(u,{AuthentificationModule:()=>M});var c=s(36895),m=s(76773),o=s(90433),e=s(98256),p=s(56074),g=s(97185);function f(i,a){1&i&&(e.\u0275\u0275elementStart(0,"span",27),e.\u0275\u0275text(1,"or"),e.\u0275\u0275elementEnd())}function h(i,a){if(1&i){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",28)(1,"div",29)(2,"a",30),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.signUpClient())}),e.\u0275\u0275text(3," Inscription "),e.\u0275\u0275elementEnd()()()}}function C(i,a){1&i&&(e.\u0275\u0275elementStart(0,"button",27),e.\u0275\u0275element(1,"i",28),e.\u0275\u0275text(2," Inscription en cours..."),e.\u0275\u0275elementEnd())}function b(i,a){if(1&i){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.login())}),e.\u0275\u0275text(1,"Se Connecter"),e.\u0275\u0275elementEnd()}if(2&i){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",n.loader)}}const d=function(i,a){return{"is-valid":i,"is-invalid":a}},_=[{path:"",component:(()=>{class i{constructor(n,t,r,l){this.router=n,this.authentificationService=t,this.fb=r,this.toastr=l,this.loader=!1,this.email="mandaaroniaina2001@gmail.com",this.password="123456",this.isAdmin=!1,this.load=!0}ngOnInit(){this.load=!0,this.formGroup=this.fb.group({email:[this.email,[o.kI.required,o.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:[this.password,o.kI.required]})}get c(){return this.formGroup.controls}changeIsAdminAtelier(){this.isAdmin=!0,this.email="atelier1@gmail.com",this.password="atelier1"}changeIsAdminFinancier(){this.isAdmin=!0,this.email="financier1@gmail.com",this.password="financier1"}changeClient(){this.isAdmin=!1,this.email="mandaaroniaina2001@gmail.com",this.password="123456"}login(){this.formGroup.valid?(this.loader=!0,this.authentificationService.login(this.email,this.password).subscribe(n=>{this.loader=!1,n&&(console.log(n.user),this.authentificationService.storeUserData(n.token,n.user),1==n.user.loginType?this.router.navigate(["/atelier"]):2==n.user.loginType?this.router.navigate(["/financier"]):0==n.user.loginType&&this.router.navigate(["/clientuser"]))},n=>{this.loader=!1,this.toastr.error(n.error.msg)})):this.toastr.warning("Un des format de vos champs est incorrect")}signUpClient(){this.router.navigate(["/login/signUp"])}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(m.F0),e.\u0275\u0275directiveInject(p.g),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(g._W))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-login"]],decls:37,vars:5,consts:[[1,"d-flex","justify-content-center","align-items-center","align-self-center"],[1,"contents"],[1,"container"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-12"],[1,"form-block","mx-auto",2,"margin-top","20px","margin-bottom","20px"],[1,"text-center","mb-5"],["src","assets/img/autog.jpg","alt",""],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control-label"],["aria-hidden","true",1,"fa","fa-user"],["type","text","name","email","formControlName","email",1,"form-control",3,"ngModel","ngModelChange"],["aria-hidden","true",1,"fa","fa-unlock-alt"],["type","password","name","password","formControlName","password","i","",1,"form-control",3,"ngModel","ngModelChange"],[1,"container-login100-form-btn"],[1,"wrap-login100-form-btn"],[1,"login100-form-bgbtn"],["type","submit","value","Log In",1,"btn","btn-block","py-2","btn-primary"],["class","or","style","text-align: center; margin-left: 50%;",4,"ngIf"],["class","reseau",4,"ngIf"],[1,"form-check"],["type","radio","name","flexRadioDefault","id","flexRadioDefault1",1,"form-check-input",3,"click"],["for","flexRadioDefault1",1,"form-check-label"],["type","radio","name","flexRadioDefault","id","flexRadioDefault2",1,"form-check-input",3,"click"],["for","flexRadioDefault2",1,"form-check-label"],["type","radio","name","flexRadioDefault","id","flexRadioDefault3",1,"form-check-input",3,"click"],[1,"or",2,"text-align","center","margin-left","50%"],[1,"reseau"],[1,"facebook"],["data-mdb-ripple-color","light",1,"btn","btn-block","btn-info","btn-rounded",2,"color","white",3,"click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.\u0275\u0275element(7,"img",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"form",8),e.\u0275\u0275listener("ngSubmit",function(){return t.login()}),e.\u0275\u0275elementStart(9,"div",9)(10,"label",10),e.\u0275\u0275element(11,"i",11),e.\u0275\u0275text(12," EMAIL"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"input",12),e.\u0275\u0275listener("ngModelChange",function(l){return t.email=l}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",9)(15,"label",10),e.\u0275\u0275element(16,"i",13),e.\u0275\u0275text(17," PASSWORD"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"input",14),e.\u0275\u0275listener("ngModelChange",function(l){return t.password=l}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"div",15)(20,"div",16),e.\u0275\u0275element(21,"div",17)(22,"input",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(23,f,2,0,"span",19),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,h,4,0,"div",20),e.\u0275\u0275elementStart(25,"div",21)(26,"input",22),e.\u0275\u0275listener("click",function(){return t.changeIsAdminAtelier()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"label",23),e.\u0275\u0275text(28," Atelier "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",21)(30,"input",24),e.\u0275\u0275listener("click",function(){return t.changeIsAdminFinancier()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"label",25),e.\u0275\u0275text(32," Financier "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",21)(34,"input",26),e.\u0275\u0275listener("click",function(){return t.changeClient()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"label",25),e.\u0275\u0275text(36," Client "),e.\u0275\u0275elementEnd()()()()()()()()),2&n&&(e.\u0275\u0275advance(8),e.\u0275\u0275property("formGroup",t.formGroup),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.email),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngModel",t.password),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!t.isAdmin),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isAdmin))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],styles:['.contents[_ngcontent-%COMP%]{margin-top:5%;margin-bottom:auto;border-radius:2%;width:40%;background:rgb(231,228,228);background:linear-gradient(86deg,rgba(231,228,228,1) 0%,rgba(238,238,238,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#e7e4e4",endColorstr="#eeeeee",GradientType=1)}.kc-registration[_ngcontent-%COMP%]{text-align:center;margin-left:10%}']}),i})(),canActivate:[(()=>{class i{constructor(n,t){this.authentificationService=n,this.router=t,this.idTemp=0}canActivate(n,t){return!this.authentificationService.loggedIn()||(this.router.navigate(["/login"]),!1)}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275inject(p.g),e.\u0275\u0275inject(m.F0))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()]},{path:"signUp",component:(()=>{class i{constructor(n,t,r,l){this.router=n,this.signUpService=t,this.fb=r,this.toastr=l,this.currentDate=new Date,this.loader=!1,this.load=!0,this.nom="",this.prenom="",this.email="",this.password="",this.phone="",this.loginType="0",this.voiture=[]}onSelected(n){console.log(n),this.loginType=n,this.ngOnInit()}ngOnInit(){this.formGroup=this.fb.group({nom:[this.nom,o.kI.required],prenom:[this.prenom,o.kI.required],email:[this.email,[o.kI.required,o.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:[this.password,o.kI.required],phone:[this.phone],loginType:[this.loginType,o.kI.required],voiture:[this.voiture]})}get c(){return this.formGroup.controls}login(){this.router.navigate(["/"])}signUp(){this.formGroup.valid?(this.loader=!0,this.signUpService.signUp(this.formGroup.value).subscribe(n=>{this.loader=!1,n.error||(this.toastr.success("Vous \xeates inscrit"),this.router.navigate(["/"]))},n=>{this.loader=!1,this.toastr.error(n.error.msg)})):this.toastr.warning("Un des format de vos champs est incorrect")}handleUpload(n){const t=n.target.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=()=>{console.log(this.formGroup.value)}}}return i.\u0275fac=function(n){return new(n||i)(e.\u0275\u0275directiveInject(m.F0),e.\u0275\u0275directiveInject(p.g),e.\u0275\u0275directiveInject(o.qu),e.\u0275\u0275directiveInject(g._W))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-sign-up"]],decls:56,vars:28,consts:[["id","page-top"],["id","wrapper"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"],[1,"container-fluid"],[1,"row"],[1,"col-md-2"],[1,"col-md-8"],[2,"text-align","center"],[3,"formGroup","ngSubmit"],[1,"card","shadow",2,"margin-bottom","5%"],[1,"card-body"],[1,"col"],[1,"col-md-12"],[1,"text-center","mb-5"],["src","assets/img/autog.jpg","alt",""],[1,"form-group"],["type","text","formControlName","nom",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"invalid-feedback"],["type","text","formControlName","prenom",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","email","formControlName","email",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","password","formControlName","password",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["type","text","formControlName","phone",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"card-footer","text-right"],["type","submit",1,"btn","btn-primary","btn-block"],["class","btn btn-primary btn-block","type","button","disabled","",4,"ngIf"],["class","btn btn-success btn-block","type","button",3,"disabled","click",4,"ngIf"],["type","button","disabled","",1,"btn","btn-primary","btn-block"],[1,"fa","fa-spinner","fa-spin"],["type","button",1,"btn","btn-success","btn-block",3,"disabled","click"]],template:function(n,t){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.\u0275\u0275element(6,"div",6),e.\u0275\u0275elementStart(7,"div",7)(8,"h1",8),e.\u0275\u0275text(9,"S'inscrire"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"form",9),e.\u0275\u0275listener("ngSubmit",function(){return t.signUp()}),e.\u0275\u0275elementStart(11,"div",10)(12,"div",11)(13,"div",5)(14,"div",12)(15,"div",4)(16,"div",5)(17,"div",13)(18,"div",14),e.\u0275\u0275element(19,"img",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"div",16)(21,"label"),e.\u0275\u0275text(22,"Nom :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"input",17),e.\u0275\u0275listener("ngModelChange",function(l){return t.nom=l}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",18),e.\u0275\u0275text(25," Veuillez remplir le champ "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"div",16)(27,"label"),e.\u0275\u0275text(28,"prenom :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"input",19),e.\u0275\u0275listener("ngModelChange",function(l){return t.prenom=l}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",18),e.\u0275\u0275text(31," Veuillez remplir le champ "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",16)(33,"label"),e.\u0275\u0275text(34,"email :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"input",20),e.\u0275\u0275listener("ngModelChange",function(l){return t.email=l}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"div",18),e.\u0275\u0275text(37," Veuillez remplir le champ "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",16)(39,"label"),e.\u0275\u0275text(40,"password :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"input",21),e.\u0275\u0275listener("ngModelChange",function(l){return t.password=l}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"div",18),e.\u0275\u0275text(43," Veuillez remplir le champ "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"div",16)(45,"label"),e.\u0275\u0275text(46,"phone :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"input",22),e.\u0275\u0275listener("ngModelChange",function(l){return t.phone=l}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"div",18),e.\u0275\u0275text(49," Veuillez remplir le champ "),e.\u0275\u0275elementEnd()()()()()()()(),e.\u0275\u0275elementStart(50,"div",23)(51,"button",24),e.\u0275\u0275text(52,"S'inscrire"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(53,C,3,0,"button",25),e.\u0275\u0275template(54,b,2,1,"button",26),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(55,"div",6),e.\u0275\u0275elementEnd()()()()()()),2&n&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("formGroup",t.formGroup),e.\u0275\u0275advance(13),e.\u0275\u0275property("ngModel",t.nom)("ngClass",e.\u0275\u0275pureFunction2(13,d,t.c.nom.valid,t.c.nom.invalid&&(t.c.nom.dirty||t.c.nom.touched))),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.prenom)("ngClass",e.\u0275\u0275pureFunction2(16,d,t.c.prenom.valid,t.c.prenom.invalid&&(t.c.prenom.dirty||t.c.prenom.touched))),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.email)("ngClass",e.\u0275\u0275pureFunction2(19,d,t.c.email.valid,t.c.email.invalid&&(t.c.email.dirty||t.c.email.touched))),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.password)("ngClass",e.\u0275\u0275pureFunction2(22,d,t.c.password.valid,t.c.password.invalid&&(t.c.password.dirty||t.c.password.touched))),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngModel",t.phone)("ngClass",e.\u0275\u0275pureFunction2(25,d,t.c.phone.valid,t.c.phone.invalid&&(t.c.phone.dirty||t.c.phone.touched))),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",t.loader),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loader))},dependencies:[c.mk,c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]}),i})()}];let S=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.Bz.forChild(_),m.Bz]}),i})();var y=s(72271);let M=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.ez,S,y.m,o.u5]}),i})()}}]);